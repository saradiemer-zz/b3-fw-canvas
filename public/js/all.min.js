function rgb2hex(t){var a=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):t}$(".grid-square").each(function(){var t=$(this).data("id"),a=$(this).css("background-color"),s=rgb2hex(a);$(this).html("<p class='grid-square-content'><span class='color-name'>"+t+"</span><span class='hex'>"+s+"</span></p>")}),function(t){t.fn.cardtable=function(a){var s,e=this,n={headIndex:0},d=t.extend({},n,a);return s=a&&a.headIndex?a.headIndex:0,e.each(function(){var a=t(this);if(!a.hasClass("stacktable")){var s=t(this).prop("class"),e=t("<div></div>");"undefined"!=typeof d.myClass&&e.addClass(d.myClass);var n,l,r,i,c,h="";a.addClass("stacktable large-only"),n=a.find("caption").clone(),l=a.find("tr").eq(0),a.find("tbody tr").each(function(){r="",i="",c=t(this).prop("class"),t(this).find("td,th").each(function(a){""!==t(this).html()&&(i+='<tr class="'+c+'">',i+=l.find("td,th").eq(a).html()?'<td class="st-key">'+l.find("td,th").eq(a).html()+"</td>":'<td class="st-key"></td>',i+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",i+="</tr>")}),h+='<table class=" '+s+' stacktable small-only"><tbody>'+r+i+"</tbody></table>"}),a.find("tfoot tr td").each(function(a,e){""!==t.trim(t(e).text())&&(h+='<table class="'+s+' stacktable small-only"><tbody><tr><td>'+t(e).html()+"</td></tr></tbody></table>")}),e.prepend(n),e.append(t(h)),a.before(e)}})},t.fn.stacktable=function(a){var s,e=this,n={headIndex:0},d=t.extend({},n,a);return s=a&&a.headIndex?a.headIndex:0,e.each(function(){var a=t(this).prop("class"),e=t('<table class="'+a+' stacktable small-only"><tbody></tbody></table>');"undefined"!=typeof d.myClass&&e.addClass(d.myClass);var n,l,r,i,c,h,o="";n=t(this),n.addClass("stacktable large-only"),l=n.find("caption").clone(),r=n.find("tr").eq(0),n.find("tr").each(function(a){i="",c="",h=t(this).prop("class"),0===a?o+='<tr class=" '+h+' "><th class="st-head-row st-head-row-main" colspan="2">'+t(this).find("th,td").eq(s).html()+"</th></tr>":(t(this).find("td,th").each(function(a){a===s?i='<tr class="'+h+'"><th class="st-head-row" colspan="2">'+t(this).html()+"</th></tr>":""!==t(this).html()&&(c+='<tr class="'+h+'">',c+=r.find("td,th").eq(a).html()?'<td class="st-key">'+r.find("td,th").eq(a).html()+"</td>":'<td class="st-key"></td>',c+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",c+="</tr>")}),o+=i+c)}),e.prepend(l),e.append(t(o)),n.before(e)})},t.fn.stackcolumns=function(a){var s=this,e={},n=t.extend({},e,a);return s.each(function(){var a=t(this),s=a.find("tr").eq(0).find("td,th").length;if(!(s<3)){var e=t('<table class="stacktable small-only"></table>');"undefined"!=typeof n.myClass&&e.addClass(n.myClass),a.addClass("stacktable large-only");for(var d=t("<tbody></tbody>"),l=1;l<s;)a.find("tr").each(function(a){var s=t("<tr></tr>");0===a&&s.addClass("st-head-row st-head-row-main");var e=t(this).find("td,th").eq(0).clone().addClass("st-key"),n=l;if(t(this).find("*[colspan]").length){var r=0;t(this).find("td,th").each(function(){var a=t(this).attr("colspan");if(a?(a=parseInt(a,10),n-=a-1,r+a>l&&(n+=r+a-l-1),r+=a):r++,r>l)return!1})}var i=t(this).find("td,th").eq(n).clone().addClass("st-val").removeAttr("colspan");s.append(e,i),d.append(s)}),++l;e.append(t(d)),a.before(e)}})}}(jQuery);